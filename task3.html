<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="style5.css">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"
		integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
	<script src="https://code.jquery.com/jquery-3.6.0.js"></script>
	<!-- <script src="webgazer_calib.js" type="text/javascript"></script> -->
</head>
<body>

<img src="images/task3/monkey.png" alt="Monkey" class="topleft">
<img src="images/task3/Dog.png" alt="Dog" class="topright">
<img src="images/task3/penguin.png" alt="Penguin" class="bottomleft">
<img src="images/task3/deer.png" alt="Deer" class="bottomright">

<video width="500" height="500" style="text-align:center; top: calc(50% - 250px); left: calc(50% - 250px); position:absolute " autoplay muted>
  <source src="audio/movie2.mp4" type="video/mp4">
  <source src="audio/movie2.ogg" type="video/ogg">
</video>
</div>


<script>

var arr = {};
		var percentArr = {}
		var percentArr2 = {}
		var isGameOver = false;
		var started = false;
		var taskLoop;
    var x_center = window.innerWidth / 2;
		var y_center = window.innerHeight / 2;


  boundaryArr = {
			
				"T1": {
					"name": "monkey",
					// "type": "L",
					"top": 12,
					"bottom": 196,
					"left": 10,
					"right": 205,
				},
		
			
				"T2": {
					"name": "dog",
					// "type": "S",
					"top": 12,
					"bottom": 196,
					"left": 1154,
					"right": 1347,
				},
				"T3": {
					"name": "penguen",
					// "type": "S",
					"top": 564,
					"bottom": 750,
					"left": 10,
					"right": 203,
				},
				"T4": {
					"name": "deer",
					// "type": "S",
					"top": 562,
					"bottom": 749,
					"left": 1154,
					"right": 1354,
				},
		
			
				"V1": {
					"name": "head",
					// "type": "S",
					"top": 194,
					"bottom": 336,
					"left": 632,
					"right": 777,
				},
				"V1": {
					"name": "body",
					// "type": "S",
					"top": 358,
					"bottom": 529,
					"left": 589,
					"right": 829,
				},
				"V1": {
					"name": "vedio",
					"type": "S",
					"top": 153,
					"bottom": 614,
					"left": 432,
					"right": 932,
				},
    }

    

    function printPred() {
			var prediction = webgazer.getCurrentPrediction();
			if (prediction) {
				var x = prediction.x;
				var y = prediction.y;
				console.log(prediction);
			}
		}

    function getGazeObject(xcoordinate, ycoordinate) {
      object1 = boundaryArr["T1"]
				if (((object1.left < xcoordinate) && (xcoordinate < object1.right)) && ((object1.top < ycoordinate) && (ycoordinate < object1.bottom))) {
					return {
						"name": object1.name,
						"type": object1.type,
					}
				}
				if ((xcoordinate < x_center) && (ycoordinate < y_center)) {
					return {
						"name": "topleft",
						"type": "none"
					}
				}
				if ((xcoordinate > x_center) && (ycoordinate < y_center)) {
					return {
						"name": "topright",
						"type": "none"
					}
				}
				if ((xcoordinate < x_center) && (ycoordinate > y_center)) {
					return {
						"name": "bottomleft",
						"type": "none"
					}
				}
				if ((xcoordinate > x_center) && (ycoordinate > y_center)) {
					return {
						"name": "bottomright",
						"type": "none"
					}
				}
    }

    function sendGazeDataToBackend(dataArr, percentArray, user, task) {
			//ajax
			$.ajax({
				type: "POST",
				url: "http://localhost:3000/results",
				data: {
					"user": sessionStorage.getItem("user_name"),
					"task": sessionStorage.getItem("task_name"),
					"dataArr": dataArr,
					"percentArray": percentArray
				},
				success: function (data) {

					// Ajax call completed successfully
					alert("Form Submited Successfully");
					// window.location.href = "selection.html"
				},
				error: function (data) {

					// Some error in ajax call
					alert("some Error");
				}
			});
		}

</script>

  
  
  
  
  
</body>
</html>